image: python:3.8.1

pages:
  stage: deploy
  script:
    - pip install -r requirements.txt
    - git clone https://gitlab.com/rwev/mesa.git
    - git clone --recurse-submodules https://gitlab.com/rwev/pelican-plugins.git
    - apt-get install hledger-ui & git clone https://gitlab.com/rwev/evix.dat.git
    - invoke styles
    - make publish
  artifacts:
    paths:
      - public/
  only:
    - master
